{% extends "navbar.html" %}
{% block title %}Registrar boleta{% endblock %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
{% block onload %}
<body style="background-image: url('/static/img/registrar_factura.jpg'); background-size: cover;">
  <section class="vh-100" style="margin-top: 140px;">
    {% if messages %}
    {% for m in messages %}
        <script>
          Swal.fire({
            "title": "¡Bien hecho!",
            "text": "{{m}}",
            "icon": "success",
            showCancelButton: true,
            cancelButtonText: 'Registrar nueva boleta',
            cancelButtonColor: 'rgb(15, 225, 15)',
            confirmButtonText: 'Visualizar boletas',
            confirmButtonColor: 'rgb(17, 47, 236)'
          }).then((result) => {
              if (result.isConfirmed) {
                window.location.href = "{% url 'listar_boleta' %}";
              }
              else{
                  window.location.href = "{% url 'registrar_boleta' %}";
              }  
            })
        </script>
      {% endfor%}
    {% endif %}
    <div class="container">
      <div class="row">
        <div class="col">
          <form method="POST" >
            {% csrf_token %}           
            <div class="container text-center" >
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-8 col-lg-12 col-xl-11">
                  <div class="card shadow-2-strong" style="border-radius: 2rem; background-color: rgba(254, 254, 254, 0.534); margin-bottom: 70px;">
                    <div class="card-body p-5 text-center">
                      <h2 id="titulo" style="font-family:'Times New Roman', Times, serif; text-align:center; margin: 0 0 50 0px; color: rgb(2, 2, 2); font-size: 350%;">Registrar Boleta</h2>
                      <div class="container"><div class="row row-cols-2 row-cols-lg-6 g-2 g-lg-3">
                        
                      <div class="col">
                        {{form.username}}{{form.estado}}
                        <div style="text-align: left;"><h5>Número boleta</h5></div>
                      </div>
                      <div class="col" >
                        <div >{{form.numero_boleta}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Rut de cliente</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.rut_cliente}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Dirección</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.direccion}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Fecha emision</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.fecha_emision}}</div>
                      </div>    
                      <div class="col">
                        <div ><h5>Rut de empresa</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.rut_empresa}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Nombre cliente</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.cliente}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Fecha vencimiento</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.fecha_vencimiento}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Terminal</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.terminal}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Hora</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.hora}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Codigo Klap</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.codigo_klap}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Codigo autorización</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.codigo_autorizacion}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Monto neto</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.monto_neto}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Codigo operación</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.codigo_operacion}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Metodo de pago</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.metodo_pago}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Iva</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.iva}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Proveedor</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.proveedor}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Nombre vendedor</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.nombre_vendedor}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Total</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.total}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Tipo boleta</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.tipo_boleta}}</div>
                      </div>
                      <div class="col">
                        <div ><h5>Observación</h5></div>
                      </div>
                      <div class="col">
                        <div >{{form.observacion}}</div>
                      </div>
                    </div>
                  </div>
                  </div>
                  <div style="text-align: center;">
                    <button class="btn btn-primary btn-lg btn-block" type="submit">Registrar boleta</button>
                    <br>
                    <br>
                    <a href="{% url 'boleta/factura' %}" type="button" class="btn btn-warning">Volver</a>
                    <br><br><br>
                    </div>
                  </div>
                </div>
              </div>
            </div>
      </div>                          
    </form>
  </section>
  <br><br><br>
</body>
{% endblock onload %}
{% endblock %}